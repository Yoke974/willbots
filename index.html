<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Will Gigan - Low-code & AI Automation Specialist</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
  <style>
<<<<<<< HEAD
    /* ... (le reste de vos styles CSS reste inchangé) ... */

    /* Nouveaux styles pour le chatbot personnalisé */
    .chat-message {
      padding: 12px 16px;
      margin-bottom: 12px;
      border-radius: 18px;
      max-width: 80%;
      animation: fadeIn 0.3s ease;
    }
    
    .user-message {
      background: rgba(0, 209, 255, 0.15);
      margin-left: auto;
      border-bottom-right-radius: 4px;
    }
    
    .bot-message {
      background: rgba(110, 0, 255, 0.15);
      margin-right: auto;
      border-bottom-left-radius: 4px;
    }
    
    .typing-indicator {
      display: flex;
      align-items: center;
      padding: 8px 16px;
    }
    
    .typing-indicator span {
      height: 8px;
      width: 8px;
      margin: 0 2px;
      background-color: #00d1ff;
      border-radius: 50%;
      display: inline-block;
      animation: typing 1.4s infinite ease-in-out;
    }
    
    .typing-indicator span:nth-child(2) {
      animation-delay: 0.2s;
    }
    
    .typing-indicator span:nth-child(3) {
      animation-delay: 0.4s;
    }
    
    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-6px); }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
=======
    @import url('https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap');
    
    :root {
      --primary-dark: #0a192f;
      --primary-light: #112240;
      --accent-purple: #6e00ff;
      --accent-cyan: #00d1ff;
      --accent-pink: #ff00ff;
      --text-light: #e6f1ff;
      --text-gray: #8892b0;
    }
    
    body {
      font-family: 'Exo 2', sans-serif;
      background-color: var(--primary-dark);
      color: var(--text-light);
      overflow-x: hidden;
      margin: 0;
      padding: 0;
    }
    
    .tech-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.15;
      background: 
        radial-gradient(circle at 20% 30%, var(--accent-purple) 0%, transparent 40%),
        radial-gradient(circle at 80% 70%, var(--accent-cyan) 0%, transparent 40%),
        linear-gradient(to bottom, var(--primary-dark), transparent);
      overflow: hidden;
    }
    
    .ai-animation {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 900px; /* Taille augmentée x3 (300px -> 900px) */
      height: 900px;
      z-index: -1;
      opacity: 0.1;
    }
    
    .hero-title {
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
      letter-spacing: 3px;
      position: relative;
    }
    
    .hero-title::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 0;
      width: 80px;
      height: 4px;
      background: var(--accent-cyan);
    }
    
    .gradient-text {
      background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .card-glow {
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .card-glow:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 25px -5px rgba(110, 0, 255, 0.25), 0 10px 10px -5px rgba(0, 209, 255, 0.1);
    }
    
    .btn-gradient {
      background: linear-gradient(90deg, var(--accent-purple), var(--accent-cyan));
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .btn-gradient::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: 0.5s;
    }
    
    .btn-gradient:hover::before {
      left: 100%;
    }
    
    .linkedin-container {
      background: rgba(17, 34, 64, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(110, 0, 255, 0.2);
      border-radius: 16px;
      overflow: hidden;
    }
    
    .icon-container {
      width: 70px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 16px;
      margin-bottom: 20px;
      background: rgba(110, 0, 255, 0.1);
      border: 1px solid rgba(110, 0, 255, 0.3);
    }
    
    .icon-container i {
      font-size: 30px;
      background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .nav-link {
      position: relative;
      padding-bottom: 5px;
    }
    
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--accent-cyan);
      transition: width 0.3s ease;
    }
    
    .nav-link:hover::after {
      width: 100%;
    }
    
    .tech-grid {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(10, 25, 47, 0.8) 1px, transparent 1px),
        linear-gradient(90deg, rgba(10, 25, 47, 0.8) 1px, transparent 1px);
      background-size: 40px 40px;
      opacity: 0.1;
      z-index: -1;
    }
    
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2.5rem;
      }
      .ai-animation {
        width: 600px;
        height: 600px;
      }
>>>>>>> 89fd46289b445fe7a9e0d870046dba6a8f57e4de
    }
  </style>
</head>
<body class="min-h-screen">
  <!-- Background elements -->
  <div class="tech-bg"></div>
  <div class="tech-grid"></div>
  
<<<<<<< HEAD
  <!-- Single AI Animation -->
=======
  <!-- Single AI Animation (size increased x3) -->
>>>>>>> 89fd46289b445fe7a9e0d870046dba6a8f57e4de
  <lottie-player 
    class="ai-animation" 
    src="https://assets10.lottiefiles.com/packages/lf20_vybwn7df.json" 
    background="transparent" 
    speed="0.5" 
    loop 
    autoplay>
  </lottie-player>
  
  <!-- Header -->
  <header class="fixed w-full top-0 left-0 z-50 py-4 px-6 backdrop-blur-md bg-[#0a192f]/80 border-b border-[#233554]">
    <div class="container mx-auto flex justify-between items-center">
      <div class="flex items-center space-x-3">
        <div class="w-3 h-3 rounded-full bg-[#00d1ff] animate-pulse"></div>
        <div class="text-2xl font-bold">
          <span class="text-[#00d1ff]">Will</span> <span class="text-white">Gigan</span>
        </div>
      </div>
      
      <nav class="hidden md:flex space-x-8 items-center">
        <a href="#services" class="nav-link text-[#8892b0] hover:text-white">Services</a>
        <a href="#pricing" class="nav-link text-[#8892b0] hover:text-white">Pricing</a>
        <a href="#linkedin" class="nav-link text-[#8892b0] hover:text-white">Latest Post</a>
        <a href="#contact" class="nav-link text-[#8892b0] hover:text-white">Contact</a>
        <a href="https://www.linkedin.com/in/will-gigan-639721376/" target="_blank" class="text-[#00d1ff] hover:text-[#6e00ff] transition-colors">
          <i class="fab fa-linkedin-in text-xl"></i>
        </a>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="min-h-screen flex items-center relative pt-16">
    <div class="container mx-auto px-6 py-20">
      <div class="max-w-3xl">
        <div class="mb-8">
          <h1 class="hero-title text-5xl md:text-6xl font-bold mb-4">
            WILL GIGAN
          </h1>
          <h2 class="text-3xl md:text-4xl font-medium mb-8 gradient-text">
            Low-code • n8n • AI Automation Specialist
          </h2>
          <p class="text-xl text-[#8892b0] max-w-2xl">
            I help businesses automate workflows with n8n, AI, web scraping and custom API integrations. 
            Remote work with flexible pricing options.
          </p>
        </div>
        
        <div class="flex flex-wrap gap-4 mt-10">
          <a href="#contact" class="btn-gradient px-8 py-4 rounded-full font-medium text-lg text-white">
            <i class="fas fa-paper-plane mr-2"></i> Get in Touch
          </a>
          <a href="#services" class="px-8 py-4 rounded-full font-medium text-lg border border-[#00d1ff] text-[#00d1ff] hover:bg-[#00d1ff]/10 transition-colors">
            <i class="fas fa-cogs mr-2"></i> Explore Services
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- LinkedIn Post Section -->
  <section id="linkedin" class="py-20 relative">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-4xl font-bold mb-4 gradient-text">Latest LinkedIn Post</h2>
          <p class="text-[#8892b0]">My thoughts on automation and AI</p>
        </div>
        
        <div class="linkedin-container p-6">
          <div class="flex items-start mb-6">
            <div class="w-16 h-16 rounded-full overflow-hidden border-2 border-[#00d1ff]">
              <img src="https://media.licdn.com/dms/image/D4E03AQHdK8vJvSXmJQ/profile-displayphoto-shrink_400_400/0/1709661841312?e=1723075200&v=beta&t=GvzFhWk4JxJgHjQdU9uG7UxQJ6VbQx0Z9X0l0Z0Qj0Y" alt="Will Gigan" class="w-full h-full object-cover">
            </div>
            <div class="ml-4">
              <h3 class="text-xl font-bold">Will Gigan</h3>
              <p class="text-[#8892b0]">Low-code • n8n • AI Automation Specialist</p>
              <p class="text-[#8892b0] text-sm mt-1">1 week ago • 5 min read</p>
            </div>
          </div>
          
          <div class="mb-6">
            <h3 class="text-2xl font-bold mb-4">Automation with n8n and OpenAI</h3>
            <div class="prose prose-invert max-w-none text-[#e6f1ff]">
              <p>In today's fast-paced business environment, automation has become a necessity rather than a luxury. With tools like n8n and OpenAI, we can create powerful workflows that transform how businesses operate.</p>
              <p class="my-4">Imagine automatically processing customer inquiries, summarizing reports, extracting data from websites, and integrating all your business apps without manual intervention. This is the power of modern automation.</p>
              <p>I recently implemented a solution for a client that reduced their data processing time from 4 hours daily to just 15 minutes. By combining n8n's powerful workflow automation with OpenAI's natural language processing, we created a system that:</p>
              <ul class="list-disc pl-5 space-y-2">
                <li>Automatically scrapes data from multiple sources</li>
                <li>Processes and analyzes the data using AI</li>
                <li>Generates comprehensive reports</li>
                <li>Distributes insights to relevant teams via Slack and email</li>
              </ul>
              <p class="mt-4">The result? Increased productivity, reduced errors, and more time for strategic thinking.</p>
            </div>
          </div>
          
          <div class="flex items-center justify-between pt-4 border-t border-[#233554]">
            <div class="flex space-x-4 text-[#8892b0]">
              <span><i class="far fa-heart mr-1"></i> 42</span>
              <span><i class="far fa-comment mr-1"></i> 8</span>
              <span><i class="far fa-share-square mr-1"></i> 12</span>
            </div>
            <a href="https://www.linkedin.com/posts/will-gigan-639721376_automation-n8n-openai-activity-7353847833554284545-iSAi?utm_source=share&utm_medium=member_desktop&rcm=ACoAAF0C4E0BAs-92KguN0lY0orNqxQitbRL_2E" target="_blank" class="text-[#00d1ff] hover:text-[#6e00ff] transition-colors">
              Read full post on LinkedIn <i class="fas fa-external-link-alt ml-2"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section id="services" class="py-20 relative">
    <div class="container mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold mb-4 gradient-text">My Services</h2>
        <p class="text-[#8892b0] max-w-2xl mx-auto">Custom solutions to automate and optimize your business processes</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Service 1 -->
        <div class="card-glow bg-[#112240] p-8 rounded-xl border border-[#233554]">
          <div class="icon-container">
            <i class="fas fa-project-diagram"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">Workflow Automation</h3>
          <p class="text-[#8892b0]">Building automated workflows with n8n to optimize your business processes and increase efficiency.</p>
        </div>
        
        <!-- Service 2 -->
        <div class="card-glow bg-[#112240] p-8 rounded-xl border border-[#233554]">
          <div class="icon-container">
            <i class="fas fa-globe"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">Web Scraping</h3>
          <p class="text-[#8892b0]">Data collection and structuring from the web to power your analytics and business intelligence.</p>
        </div>
        
        <!-- Service 3 -->
        <div class="card-glow bg-[#112240] p-8 rounded-xl border border-[#233554]">
          <div class="icon-container">
            <i class="fas fa-brain"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">AI Summarization</h3>
          <p class="text-[#8892b0]">Content synthesis and analysis using AI to save time and extract valuable insights from large datasets.</p>
        </div>
        
        <!-- Service 4 -->
        <div class="card-glow bg-[#112240] p-8 rounded-xl border border-[#233554]">
          <div class="icon-container">
            <i class="fas fa-plug"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">API Integrations</h3>
          <p class="text-[#8892b0]">Connecting your apps and services through custom APIs to create seamless workflows between systems.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing Section -->
  <section id="pricing" class="py-20 relative">
    <div class="container mx-auto px-6">
      <div class="max-w-3xl mx-auto">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-4xl font-bold mb-4 gradient-text">Pricing & Availability</h2>
          <p class="text-[#8892b0]">Flexible options to suit your business needs</p>
        </div>
        
        <div class="bg-[#112240] p-8 rounded-xl border border-[#233554] shadow-xl">
          <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="text-center md:text-left mb-6 md:mb-0">
              <div class="text-lg text-[#8892b0]">Starting from</div>
              <div class="text-4xl font-bold gradient-text">$30/hour</div>
              <p class="text-[#8892b0] mt-2">Flexible engagement models</p>
            </div>
            
            <div class="flex flex-col items-center">
              <div class="flex items-center mb-4">
                <i class="fas fa-laptop-house text-[#00d1ff] text-xl mr-2"></i>
                <span>Remote Work</span>
              </div>
              <div class="flex items-center">
                <i class="fas fa-calendar-check text-[#6e00ff] text-xl mr-2"></i>
                <span>Flexible Availability</span>
              </div>
            </div>
          </div>
          
          <div class="mt-8 text-center">
            <a href="#contact" class="btn-gradient inline-block text-white px-8 py-3 rounded-full font-medium text-lg">
              Discuss Your Project
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-3xl mx-auto">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-4xl font-bold mb-4 gradient-text">Contact Me</h2>
          <p class="text-[#8892b0]">Let's discuss how I can help automate your business</p>
        </div>
<<<<<<< HEAD

        <div class="bg-[#112240] p-8 rounded-xl border border-[#233554] shadow-xl">
          <form action="https://formspree.io/f/xpwlpvab" method="POST">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label class="block mb-2 text-white">Name</label>
=======
        
        <div class="bg-[#112240] p-8 rounded-xl border border-[#233554] shadow-xl">
          <form class="space-y-6" action="https://formspree.io/f/willgigan244@gmail.com" method="POST">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label class="block mb-2">Name</label>
>>>>>>> 89fd46289b445fe7a9e0d870046dba6a8f57e4de
                <input
                  type="text"
                  name="name"
                  class="w-full bg-[#0a192f] border border-[#233554] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-[#00d1ff]"
                  placeholder="Your name"
                  required
                />
              </div>
<<<<<<< HEAD

              <div>
                <label class="block mb-2 text-white">Email</label>
=======
              
              <div>
                <label class="block mb-2">Email</label>
>>>>>>> 89fd46289b445fe7a9e0d870046dba6a8f57e4de
                <input
                  type="email"
                  name="email"
                  class="w-full bg-[#0a192f] border border-[#233554] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-[#00d1ff]"
                  placeholder="your@email.com"
                  required
                />
              </div>
            </div>
<<<<<<< HEAD

            <div class="mt-6">
              <label class="block mb-2 text-white">Message</label>
=======
            
            <div>
              <label class="block mb-2">Message</label>
>>>>>>> 89fd46289b445fe7a9e0d870046dba6a8f57e4de
              <textarea
                name="message"
                rows="4"
                class="w-full bg-[#0a192f] border border-[#233554] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-[#00d1ff]"
                placeholder="How can I help you?"
                required
              ></textarea>
            </div>
<<<<<<< HEAD

            <button
              type="submit"
              class="btn-gradient w-full text-white py-3 mt-6 rounded-lg font-medium text-lg"
=======
            
            <button
              type="submit"
              class="btn-gradient w-full text-white py-3 rounded-lg font-medium text-lg"
>>>>>>> 89fd46289b445fe7a9e0d870046dba6a8f57e4de
            >
              Send Message
            </button>
          </form>
<<<<<<< HEAD

=======
          
>>>>>>> 89fd46289b445fe7a9e0d870046dba6a8f57e4de
          <div class="mt-8 pt-8 border-t border-[#233554]">
            <div class="flex flex-col items-center">
              <p class="text-[#8892b0] mb-4">Or contact me directly</p>
              <div class="flex space-x-6">
                <a href="mailto:willgigan244@gmail.com" class="text-[#8892b0] hover:text-[#00d1ff] transition-colors text-2xl">
                  <i class="fas fa-envelope"></i>
                </a>
                <a href="https://www.linkedin.com/in/will-gigan-639721376/" target="_blank" class="text-[#8892b0] hover:text-[#00d1ff] transition-colors text-2xl">
                  <i class="fab fa-linkedin-in"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-12 text-center border-t border-[#233554]">
    <div class="container mx-auto px-6">
      <div class="flex justify-center mb-6">
        <div class="text-2xl font-bold">
          <span class="text-[#00d1ff]">Will</span> <span class="text-white">Gigan</span>
        </div>
      </div>
      <p class="text-[#8892b0]">Low-code • n8n • AI Automation Specialist</p>
      <p class="text-[#8892b0] mt-4">&copy; <span id="year"></span> Will Gigan. All rights reserved.</p>
    </div>
  </footer>

<<<<<<< HEAD
  <!-- Dify Chat Widget - Version personnalisée -->
  <div id="dify-chat-widget">
    <div class="dify-toggle" id="dify-toggle">
      <i class="fas fa-robot"></i>
    </div>
    <div class="dify-container" id="dify-container">
      <div class="dify-header">
        <h3>AI Assistant</h3>
        <button class="dify-close" id="dify-close">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div id="chat-history" class="flex-grow overflow-y-auto p-4 bg-[#0a192f]">
        <div class="bot-message chat-message">
          Bonjour ! Je suis votre assistant virtuel Willbots 🤖<br>
          Comment puis-je vous aider aujourd'hui ?<br>
          <small class="text-[#8892b0]">Exemples : Automatisation, n8n, Web Scraping...</small>
        </div>
      </div>
      <div class="p-4 border-t border-[#233554]">
        <div class="flex">
          <input 
            type="text" 
            id="user-input" 
            placeholder="Posez votre question..." 
            class="flex-grow bg-[#0a192f] border border-[#233554] rounded-l-lg p-3 focus:outline-none text-white"
          />
          <button 
            id="send-btn" 
            class="bg-[#6e00ff] text-white px-6 rounded-r-lg font-medium hover:bg-[#00d1ff] transition-colors"
          >
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

=======
>>>>>>> 89fd46289b445fe7a9e0d870046dba6a8f57e4de
  <script>
    // Set current year in footer
    document.getElementById('year').textContent = new Date().getFullYear();
    
    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });
<<<<<<< HEAD
    
    // Dify Chat Widget Functionality
    const difyToggle = document.getElementById('dify-toggle');
    const difyContainer = document.getElementById('dify-container');
    const difyClose = document.getElementById('dify-close');
    const chatHistory = document.getElementById('chat-history');
    const userInput = document.getElementById('user-input');
    const sendBtn = document.getElementById('send-btn');
    
    // Variables pour la conversation
    let conversationId = null;
    const PUBLIC_APP_TOKEN = 'VOTRE_CLE_API_DIFY'; // Remplacez par votre clé API Dify
    
    difyToggle.addEventListener('click', () => {
      difyContainer.style.display = 'flex';
      // Focus sur l'input quand le chat s'ouvre
      setTimeout(() => userInput.focus(), 100);
    });
    
    difyClose.addEventListener('click', () => {
      difyContainer.style.display = 'none';
    });
    
    // Close chat when clicking outside
    document.addEventListener('click', (e) => {
      const isClickInside = difyContainer.contains(e.target) || difyToggle.contains(e.target);
      
      if (!isClickInside && difyContainer.style.display === 'flex') {
        difyContainer.style.display = 'none';
      }
    });
    
    // Fonction pour ajouter un message au chat
    function addMessage(role, content) {
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('chat-message', `${role}-message`);
      messageDiv.textContent = content;
      chatHistory.appendChild(messageDiv);
      
      // Scroll automatique vers le bas
      chatHistory.scrollTop = chatHistory.scrollHeight;
    }
    
    // Fonction pour afficher l'indicateur de saisie
    function showTypingIndicator() {
      const typingDiv = document.createElement('div');
      typingDiv.classList.add('typing-indicator');
      typingDiv.id = 'typing-indicator';
      typingDiv.innerHTML = `
        <span></span>
        <span></span>
        <span></span>
        <span>Assistant Willbots rédige une réponse...</span>
      `;
      chatHistory.appendChild(typingDiv);
      chatHistory.scrollTop = chatHistory.scrollHeight;
    }
    
    // Fonction pour masquer l'indicateur de saisie
    function hideTypingIndicator() {
      const typingIndicator = document.getElementById('typing-indicator');
      if (typingIndicator) typingIndicator.remove();
    }
    
    // Fonction pour envoyer le message à Dify
    async function sendToDify(message) {
      // Afficher l'indicateur de saisie
      showTypingIndicator();
      
      try {
        const response = await fetch('/api/chat', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${PUBLIC_APP_TOKEN}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            inputs: {},
            query: message,
            response_mode: "blocking",
            conversation_id: conversationId
          })
        });
        
        const data = await response.json();
        
        // Mettre à jour l'ID de conversation
        if (data.conversation_id) {
          conversationId = data.conversation_id;
        }
        
        // Masquer l'indicateur de saisie
        hideTypingIndicator();
        
        // Ajouter la réponse de l'assistant
        if (data.answer) {
          addMessage('bot', data.answer);
        } else {
          addMessage('bot', "Désolé, je n'ai pas pu obtenir de réponse. Veuillez réessayer.");
        }
        
      } catch (error) {
        console.error('Erreur:', error);
        hideTypingIndicator();
        addMessage('bot', "Désolé, je rencontre actuellement des difficultés. Veuillez réessayer plus tard.");
      }
    }
    
    // Gestion de l'envoi du message
    function sendMessage() {
      const message = userInput.value.trim();
      if (!message) return;
      
      // Ajouter le message de l'utilisateur
      addMessage('user', message);
      userInput.value = '';
      
      // Envoyer le message à Dify
      sendToDify(message);
    }
    
    // Événements
    sendBtn.addEventListener('click', sendMessage);
    userInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });
    
    // Initialisation du chatbot
    console.log("Chatbot Willbots initialisé");
=======
>>>>>>> 89fd46289b445fe7a9e0d870046dba6a8f57e4de
  </script>
</body>
</html>